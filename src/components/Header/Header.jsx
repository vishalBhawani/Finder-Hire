
import React, { useState, useEffect } from 'react'; // <-- this is important!

import "./Header.scss"; // This will apply styles specific to Header


const Header = () => {
    const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
    const [isScrolled, setIsScrolled] = useState(false);

    const toggleMenu = () => {
        console.log('Menu toggled');
        setIsMobileMenuOpen(prev => !prev);
    };

    // ✅ Scroll effect
    useEffect(() => {
        const checkScroll = () => {
            if (window.scrollY > 40) {
                setIsScrolled(true);
            } else {
                setIsScrolled(false);
            }
        };

        checkScroll(); // initial check on mount
        window.addEventListener('scroll', checkScroll);

        return () => {
            window.removeEventListener('scroll', checkScroll);
        };
    }, []);

    // ✅ Body class effect
    useEffect(() => {
        if (isMobileMenuOpen) {
            document.body.classList.add('body--hidden');
        } else {
            document.body.classList.remove('body--hidden');
        }

        return () => {
            document.body.classList.remove('body--hidden');
        };
    }, [isMobileMenuOpen]);

    return <>
        <header className={`site__header ${isScrolled ? 'scrolled' : ''}`}>
            <div className="full__container">
                <div className="header__container">
                    <a href="#" className="header__logo">
                        <svg width="148" height="30" viewBox="0 0 148 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M6.697 29.645C4.60433 29.645 3.085 29.172 2.139 28.226C1.22167 27.28 0.763 26.033 0.763 24.485C0.763 23.3097 1.00667 22.0197 1.494 20.615C1.86667 19.4683 2.36833 18.3073 2.999 17.132C3.62967 15.928 4.36067 14.8243 5.192 13.821C6.02333 12.789 6.94067 11.972 7.944 11.37C8.94733 10.7393 10.008 10.424 11.126 10.424C12.5593 10.424 13.7203 10.6533 14.609 11.112C15.5263 11.542 15.985 12.2587 15.985 13.262C15.985 14.0073 15.684 14.939 15.082 16.057C14.2793 17.605 13.104 18.8807 11.556 19.884C10.008 20.8873 8.27367 21.4607 6.353 21.604C5.923 22.7793 5.665 23.7397 5.579 24.485C5.55033 24.6283 5.536 24.7717 5.536 24.915C5.536 25.0297 5.536 25.1587 5.536 25.302C5.536 26.248 5.751 26.936 6.181 27.366C6.611 27.7673 7.14133 27.968 7.772 27.968C8.94733 27.968 9.97933 27.667 10.868 27.065C11.7567 26.463 12.5307 25.7033 13.19 24.786C13.878 23.8687 14.4657 22.9513 14.953 22.034C15.2397 21.518 15.4833 21.045 15.684 20.615C15.8847 20.1563 16.0423 19.8267 16.157 19.626C16.3003 19.3967 16.458 19.282 16.63 19.282C16.802 19.282 16.9597 19.3823 17.103 19.583C17.2463 19.755 17.2607 19.9557 17.146 20.185C16.7733 20.9303 16.2573 21.9193 15.598 23.152C14.9387 24.3847 14.1933 25.474 13.362 26.42C12.4447 27.5093 11.4557 28.3263 10.395 28.871C9.363 29.387 8.13033 29.645 6.697 29.645ZM6.912 20.357C8.202 19.8697 9.33433 18.9953 10.309 17.734C11.3123 16.4727 11.986 15.0823 12.33 13.563C12.3587 13.4197 12.373 13.2907 12.373 13.176C12.4017 13.0613 12.416 12.9467 12.416 12.832C12.416 12.2587 12.244 11.972 11.9 11.972C11.6133 11.972 11.3123 12.1727 10.997 12.574C10.5383 13.1187 10.051 13.864 9.535 14.81C9.019 15.7273 8.56033 16.6303 8.159 17.519C7.75767 18.4077 7.45667 19.0813 7.256 19.54L6.912 20.357ZM14.9523 29.602C14.7803 29.602 14.6083 29.516 14.4363 29.344C14.293 29.2007 14.2357 29.043 14.2643 28.871C14.3503 28.4697 14.508 28.1113 14.7373 27.796C14.9667 27.452 15.153 27.1653 15.2963 26.936C15.7837 26.2193 16.4573 25.3737 17.3173 24.399C18.1773 23.4243 19.1377 22.421 20.1983 21.389C21.259 20.3283 22.334 19.3393 23.4233 18.422C24.5127 17.476 25.516 16.6733 26.4333 16.014C26.5193 15.8133 26.3903 15.67 26.0463 15.584C25.7023 15.4693 25.2723 15.3977 24.7563 15.369C24.269 15.3117 23.7817 15.283 23.2943 15.283C22.721 15.283 22.291 15.3117 22.0043 15.369C21.1443 15.541 20.4133 15.9137 19.8113 16.487C19.2093 17.0317 18.636 17.777 18.0913 18.723C17.5467 19.6403 16.9017 20.7727 16.1563 22.12C16.0417 22.3493 15.9127 22.464 15.7693 22.464C15.54 22.464 15.4253 22.1917 15.4253 21.647C15.4253 21.2743 15.5113 20.916 15.6833 20.572C16.314 19.3107 16.9733 18.0637 17.6613 16.831C18.3493 15.5697 18.894 14.6093 19.2953 13.95C20.0407 12.746 20.7143 11.929 21.3163 11.499C21.947 11.069 22.549 10.854 23.1223 10.854C23.8677 10.854 24.613 11.0403 25.3583 11.413C26.1323 11.757 27.0353 11.9433 28.0673 11.972C28.7267 11.972 29.2427 11.886 29.6153 11.714C29.9307 11.5707 30.1743 11.37 30.3463 11.112C30.5183 10.854 30.6187 10.5817 30.6473 10.295C30.676 10.1517 30.7477 10.0513 30.8623 9.994C31.0057 9.93667 31.1347 9.908 31.2493 9.908C31.5933 9.908 31.7653 10.0657 31.7653 10.381C31.7653 11.9003 31.321 13.3623 30.4323 14.767C29.5437 16.1717 28.2967 17.5763 26.6913 18.981C25.1147 20.357 23.237 21.8333 21.0583 23.41C21.0297 23.4673 21.345 23.6537 22.0043 23.969C22.6923 24.2843 23.4377 24.528 24.2403 24.7C24.5557 24.7573 24.8567 24.8147 25.1433 24.872C25.4587 24.9007 25.7597 24.915 26.0463 24.915C26.7057 24.915 27.322 24.8003 27.8953 24.571C28.4687 24.313 28.956 23.883 29.3573 23.281C29.816 22.6217 30.2317 21.9337 30.6043 21.217C30.977 20.4717 31.235 19.9557 31.3783 19.669C31.4357 19.497 31.5647 19.411 31.7653 19.411C31.966 19.411 32.138 19.497 32.2813 19.669C32.4247 19.841 32.439 20.0417 32.3243 20.271C31.9803 21.0163 31.536 21.8907 30.9913 22.894C30.4467 23.8973 29.859 24.8577 29.2283 25.775C28.6263 26.6923 28.01 27.452 27.3793 28.054C26.9493 28.4553 26.4763 28.742 25.9603 28.914C25.4443 29.086 24.8997 29.172 24.3263 29.172C23.4663 29.172 22.592 29.043 21.7033 28.785C20.8433 28.4983 20.0407 28.226 19.2953 27.968C18.8367 27.796 18.4067 27.6813 18.0053 27.624C17.604 27.538 17.26 27.495 16.9733 27.495C16.6867 27.495 16.3857 27.6813 16.0703 28.054C15.755 28.398 15.5543 28.742 15.4683 29.086C15.3823 29.43 15.2103 29.602 14.9523 29.602Z"
                                fill="#F8A430" />
                            <path
                                d="M53.1943 4.43V9.225H43.1843V14.405H50.6743V19.06H43.1843V29H37.1993V4.43H53.1943ZM59.3499 7.44C58.2999 7.44 57.4366 7.13667 56.7599 6.53C56.1066 5.9 55.7799 5.13 55.7799 4.22C55.7799 3.28667 56.1066 2.51667 56.7599 1.91C57.4366 1.28 58.2999 0.964998 59.3499 0.964998C60.3766 0.964998 61.2166 1.28 61.8699 1.91C62.5466 2.51667 62.8849 3.28667 62.8849 4.22C62.8849 5.13 62.5466 5.9 61.8699 6.53C61.2166 7.13667 60.3766 7.44 59.3499 7.44ZM62.3249 9.47V29H56.3399V9.47H62.3249ZM78.5622 9.26C80.8489 9.26 82.6689 10.0067 84.0222 11.5C85.3989 12.97 86.0872 15 86.0872 17.59V29H80.1372V18.395C80.1372 17.0883 79.7989 16.0733 79.1222 15.35C78.4455 14.6267 77.5355 14.265 76.3922 14.265C75.2489 14.265 74.3389 14.6267 73.6622 15.35C72.9855 16.0733 72.6472 17.0883 72.6472 18.395V29H66.6622V9.47H72.6472V12.06C73.2539 11.1967 74.0705 10.52 75.0972 10.03C76.1239 9.51667 77.2789 9.26 78.5622 9.26ZM89.0562 19.2C89.0562 17.1933 89.4295 15.4317 90.1762 13.915C90.9462 12.3983 91.9845 11.2317 93.2912 10.415C94.5978 9.59833 96.0562 9.19 97.6662 9.19C98.9495 9.19 100.116 9.45833 101.166 9.995C102.24 10.5317 103.08 11.255 103.686 12.165V3.1H109.671V29H103.686V26.2C103.126 27.1333 102.321 27.88 101.271 28.44C100.245 29 99.0428 29.28 97.6662 29.28C96.0562 29.28 94.5978 28.8717 93.2912 28.055C91.9845 27.215 90.9462 26.0367 90.1762 24.52C89.4295 22.98 89.0562 21.2067 89.0562 19.2ZM103.686 19.235C103.686 17.7417 103.266 16.5633 102.426 15.7C101.61 14.8367 100.606 14.405 99.4162 14.405C98.2262 14.405 97.2112 14.8367 96.3712 15.7C95.5545 16.54 95.1462 17.7067 95.1462 19.2C95.1462 20.6933 95.5545 21.8833 96.3712 22.77C97.2112 23.6333 98.2262 24.065 99.4162 24.065C100.606 24.065 101.61 23.6333 102.426 22.77C103.266 21.9067 103.686 20.7283 103.686 19.235ZM132.411 18.92C132.411 19.48 132.376 20.0633 132.306 20.67H118.761C118.854 21.8833 119.239 22.8167 119.916 23.47C120.616 24.1 121.468 24.415 122.471 24.415C123.964 24.415 125.003 23.785 125.586 22.525H131.956C131.629 23.8083 131.034 24.9633 130.171 25.99C129.331 27.0167 128.269 27.8217 126.986 28.405C125.703 28.9883 124.268 29.28 122.681 29.28C120.768 29.28 119.064 28.8717 117.571 28.055C116.078 27.2383 114.911 26.0717 114.071 24.555C113.231 23.0383 112.811 21.265 112.811 19.235C112.811 17.205 113.219 15.4317 114.036 13.915C114.876 12.3983 116.043 11.2317 117.536 10.415C119.029 9.59833 120.744 9.19 122.681 9.19C124.571 9.19 126.251 9.58667 127.721 10.38C129.191 11.1733 130.334 12.305 131.151 13.775C131.991 15.245 132.411 16.96 132.411 18.92ZM126.286 17.345C126.286 16.3183 125.936 15.5017 125.236 14.895C124.536 14.2883 123.661 13.985 122.611 13.985C121.608 13.985 120.756 14.2767 120.056 14.86C119.379 15.4433 118.959 16.2717 118.796 17.345H126.286ZM141.553 12.725C142.253 11.6517 143.128 10.8117 144.178 10.205C145.228 9.575 146.395 9.26 147.678 9.26V15.595H146.033C144.54 15.595 143.42 15.9217 142.673 16.575C141.927 17.205 141.553 18.325 141.553 19.935V29H135.568V9.47H141.553V12.725Z"
                                fill="black" />
                        </svg>
                    </a>

                    <nav className={`nav ${isMobileMenuOpen ? 'nav--open' : ''}`}>

                        <ul className="nav__menu">
                            <li className="nav__item"><a href="#" className="nav__link">Home</a></li>
                            <li className="nav__item"><a href="#" className="nav__link">Find & Hire</a></li>
                            <li className="nav__item"><a href="#" className="nav__link">About</a></li>
                            <li className="nav__item"><a href="#" className="nav__link">Blog</a></li>
                            <li className="nav__item"><a href="#" className="nav__link">Contact</a></li>
                        </ul>
                        <a className="mobileView join__now " href="#" >Join Now</a>
                    </nav>
                    <div className="cta desktopView">
                        <a href="#" className="cta__btn desktopView">Join Now</a>
                    </div>
                    <button className={`open__nav--toggle mobileView ${isMobileMenuOpen ? 'active' : ''}`} onClick={toggleMenu}>
                        <svg className="open__nav--icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100"
                            height="100" viewBox="0 0 50 50">
                            <path
                                d="M 5 8 A 2.0002 2.0002 0 1 0 5 12 L 45 12 A 2.0002 2.0002 0 1 0 45 8 L 5 8 z M 5 23 A 2.0002 2.0002 0 1 0 5 27 L 45 27 A 2.0002 2.0002 0 1 0 45 23 L 5 23 z M 5 38 A 2.0002 2.0002 0 1 0 5 42 L 45 42 A 2.0002 2.0002 0 1 0 45 38 L 5 38 z">
                            </path>
                        </svg>
                        <svg className="close__nav--icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100"
                            height="100" viewBox="0 0 50 50">
                            <path
                                d="M 9.15625 6.3125 L 6.3125 9.15625 L 22.15625 25 L 6.21875 40.96875 L 9.03125 43.78125 L 25 27.84375 L 40.9375 43.78125 L 43.78125 40.9375 L 27.84375 25 L 43.6875 9.15625 L 40.84375 6.3125 L 25 22.15625 Z">
                            </path>
                        </svg>
                    </button>
                </div>
            </div>

        </header>
    </>;
};

export default Header;
